<!--
  Generated template for the CreateWaiverPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
    <ion-navbar>
        <ion-buttons end>
            <button ion-button menuToggle icon-only>
                <ion-icon name="menu"></ion-icon>
            </button>
        </ion-buttons>
        <ion-title>{{ 'WAIVER_MASTER_TITLE' | translate }}</ion-title>
    </ion-navbar>
</ion-header>


<ion-content padding>
    <ion-slides #createWaiverSlider>
        <!--First two forms-->
        <ion-slide *ngFor="let slide of slides; let i = index">
            <h2 [innerHTML]="slide.title"></h2>
            <waiver-form [waiver]="slide.page.waiver"></waiver-form>
            <button ion-button color="primary" [disabled]="i == 0" (click)="prev()">Previous</button>
            <button ion-button color="primary" (click)="cancel()">Cancel</button>
            <button [disabled]="!slide.page.valid() && i !== 1" ion-button color="primary" (click)="next()">Next</button>
        </ion-slide>
        <!--Attachments page-->
        <ion-slide>
            <page-create-attachment #attachmentPage (imagesEvent)="recieveImages($event)" ></page-create-attachment>
            <button ion-button color="primary"  (click)="prev()">Previous</button>
            <button ion-button color="primary" (click)="cancel()">Cancel</button>
            <button [disabled]="!attachmentPage.valid()" ion-button color="primary" (click)="next()">Next</button>
        </ion-slide>
        <!--Signature page-->
        <ion-slide>
            <page-create-signature #signaturePage (signatureEvent)="recieveSignature($event)"></page-create-signature>
            <button ion-button color="primary"  (click)="prev()">Previous</button>
            <button ion-button color="primary" (click)="cancel()">Cancel</button>
            <button [disabled]="!signaturePage.valid()" ion-button color="primary" (click)="next()">Next</button>
        </ion-slide>
        <!--Submit page-->
        <ion-slide>
            <submit-waiver #submitWaver [waiver]="waiver"></submit-waiver>
            <button ion-button color="primary"  (click)="prev()">Previous</button>
            <button ion-button color="primary"  (click)="cancel()">Cancel</button>
            <button ion-button color="primary" (click)="submitWaver.submit()">Save</button>
        </ion-slide>
    </ion-slides>
</ion-content>
